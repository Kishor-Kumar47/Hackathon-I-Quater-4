"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[7792],{4009:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"week-3-5-ros2-fundamentals","title":"Week 3-5: ROS 2 Fundamentals","description":"1. Introduction to ROS 2 Architecture","source":"@site/docs/week-3-5-ros2-fundamentals.md","sourceDirName":".","slug":"/week-3-5-ros2-fundamentals","permalink":"/docs/week-3-5-ros2-fundamentals","draft":false,"unlisted":false,"editUrl":"https://github.com/Kishor-Kumar47/Hackathon-I-Quater-4/tree/main/my-website/docs/week-3-5-ros2-fundamentals.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"sidebar_label":"Week 3-5: ROS 2 Fundamentals"},"sidebar":"tutorialSidebar","previous":{"title":"Week 1-2: Physical AI Introduction","permalink":"/docs/week-1-2-introduction"},"next":{"title":"Week 6-7: Gazebo Simulation","permalink":"/docs/week-6-7-gazebo-simulation"}}');var r=s(4848),t=s(8453);const l={sidebar_position:4,sidebar_label:"Week 3-5: ROS 2 Fundamentals"},o="Week 3-5: ROS 2 Fundamentals",a={},c=[{value:"1. Introduction to ROS 2 Architecture",id:"1-introduction-to-ros-2-architecture",level:2},{value:"2. Nodes, Topics, and Services",id:"2-nodes-topics-and-services",level:2},{value:"Nodes",id:"nodes",level:3},{value:"Topics",id:"topics",level:3},{value:"Services",id:"services",level:3},{value:"3. Python Integration with rclpy",id:"3-python-integration-with-rclpy",level:2},{value:"Setting up a ROS 2 Python Package",id:"setting-up-a-ros-2-python-package",level:3},{value:"Publishers (Talker)",id:"publishers-talker",level:3},{value:"Subscribers (Listener)",id:"subscribers-listener",level:3},{value:"Services",id:"services-1",level:3},{value:"4. Launch Files and Parameters",id:"4-launch-files-and-parameters",level:2},{value:"Launch Files",id:"launch-files",level:3},{value:"Parameters",id:"parameters",level:3},{value:"5. Exercises and Quiz",id:"5-exercises-and-quiz",level:2},{value:"Exercises",id:"exercises",level:3},{value:"Short Quiz",id:"short-quiz",level:3}];function d(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"week-3-5-ros-2-fundamentals",children:"Week 3-5: ROS 2 Fundamentals"})}),"\n",(0,r.jsx)(n.h2,{id:"1-introduction-to-ros-2-architecture",children:"1. Introduction to ROS 2 Architecture"}),"\n",(0,r.jsx)(n.p,{children:"The Robot Operating System (ROS) is a flexible framework for writing robot software. It's a collection of tools, libraries, and conventions that aim to simplify the task of creating complex and robust robot behavior across a wide variety of robotic platforms. ROS 2 is the successor to ROS 1, designed with improvements in areas like real-time capabilities, multi-robot systems, and embedded platforms."}),"\n",(0,r.jsxs)(n.p,{children:["At its core, ROS 2 facilitates communication between different parts of a robotic system. These parts, often referred to as ",(0,r.jsx)(n.em,{children:"nodes"}),", can be individual programs responsible for specific functionalities, such as controlling a motor, reading sensor data, or performing navigation algorithms."]}),"\n",(0,r.jsx)(n.p,{children:"Key architectural concepts in ROS 2 include:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Nodes"}),": Independent executable processes that perform computations."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Topics"}),": A publish/subscribe mechanism for real-time data streaming."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Services"}),": A request/reply mechanism for remote procedure calls."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Actions"}),": A long-running goal-oriented communication mechanism, built on topics and services."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters"}),": Dynamic configuration values for nodes."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Launch Files"}),": XML or Python files to start and configure multiple ROS 2 nodes and their parameters."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ROS 2 Graph"}),": The network of ROS 2 nodes processing data."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Unlike ROS 1, ROS 2 uses a Data Distribution Service (DDS) as its middleware, providing better reliability, scalability, and quality-of-service (QoS) settings."}),"\n",(0,r.jsx)(n.h2,{id:"2-nodes-topics-and-services",children:"2. Nodes, Topics, and Services"}),"\n",(0,r.jsx)(n.h3,{id:"nodes",children:"Nodes"}),"\n",(0,r.jsx)(n.p,{children:"A ROS 2 node is an executable that performs a specific task. For example, a robot might have one node for reading laser scan data, another for controlling the robot's wheels, and a third for path planning. Nodes are designed to be modular and reusable."}),"\n",(0,r.jsx)(n.h3,{id:"topics",children:"Topics"}),"\n",(0,r.jsx)(n.p,{children:"Topics are the most common way for nodes to exchange data in ROS 2. They implement a publish/subscribe model:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Publishers"}),": Nodes that send data to a topic."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Subscribers"}),": Nodes that receive data from a topic."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["When a publisher publishes data to a topic, all nodes subscribed to that topic will receive the data. Data is sent as ",(0,r.jsx)(n.em,{children:"messages"}),", which are structured data types defined by ROS 2."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example Scenario"}),": A robot's camera node (publisher) publishes image data to the ",(0,r.jsx)(n.code,{children:"/camera/image"})," topic. An image processing node (subscriber) receives these images from the topic to detect objects."]}),"\n",(0,r.jsx)(n.h3,{id:"services",children:"Services"}),"\n",(0,r.jsx)(n.p,{children:"Services provide a request/reply mechanism, allowing nodes to offer specific functionalities that other nodes can call. This is useful for operations that require a response, unlike the continuous data stream of topics."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Service Server"}),": The node that offers the service and responds to requests."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Service Client"}),": The node that requests the service and receives a response."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example Scenario"}),": A navigation node (service client) might call a mapping node's ",(0,r.jsx)(n.code,{children:"/map_service"})," (service server) to get a map of the environment."]}),"\n",(0,r.jsx)(n.h2,{id:"3-python-integration-with-rclpy",children:"3. Python Integration with rclpy"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"rclpy"})," is the Python client library for ROS 2. It provides an interface to interact with the ROS 2 graph using Python."]}),"\n",(0,r.jsx)(n.h3,{id:"setting-up-a-ros-2-python-package",children:"Setting up a ROS 2 Python Package"}),"\n",(0,r.jsx)(n.p,{children:"Before writing code, you typically create a ROS 2 package."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Create a new ROS 2 workspace (if you don't have one)\nmkdir -p ~/ros2_ws/src\ncd ~/ros2_ws/src\n\n# Create a new Python package named 'my_robot_pkg'\nros2 pkg create --build-type ament_python my_robot_pkg\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Now, navigate into ",(0,r.jsx)(n.code,{children:"~/ros2_ws/src/my_robot_pkg"}),". Your Python scripts will go into the ",(0,r.jsx)(n.code,{children:"my_robot_pkg/my_robot_pkg"})," directory. Remember to add ",(0,r.jsx)(n.code,{children:"install"})," target to ",(0,r.jsx)(n.code,{children:"setup.py"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from setuptools import setup\n\npackage_name = 'my_robot_pkg'\n\nsetup(\n    name=package_name,\n    version='0.0.0',\n    packages=[package_name],\n    data_files=[\n        ('share/ament_index/resource_index/packages',\n            ['resource/' + package_name]),\n        ('share/' + package_name, ['package.xml']),\n    ],\n    install_requires=['setuptools'],\n    zip_safe=True,\n    maintainer='your_name',\n    maintainer_email='your_email@example.com',\n    description='TODO: Package description',\n    license='TODO: License declaration',\n    tests_require=['pytest'],\n    entry_points={\n        'console_scripts': [\n            'talker = my_robot_pkg.publisher_member_function:main',\n            'listener = my_robot_pkg.subscriber_member_function:main',\n            'add_two_ints_server = my_robot_pkg.service_member_function:main',\n            'add_two_ints_client = my_robot_pkg.client_member_function:main',\n        ],\n    },\n)\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"publishers-talker",children:"Publishers (Talker)"}),"\n",(0,r.jsx)(n.p,{children:'Let\'s create a simple publisher node that sends "Hello ROS 2!" messages.'}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"File"}),": ",(0,r.jsx)(n.code,{children:"~/ros2_ws/src/my_robot_pkg/my_robot_pkg/publisher_member_function.py"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\n\nfrom std_msgs.msg import String\n\n\nclass MinimalPublisher(Node):\n\n    def __init__(self):\n        super().__init__('minimal_publisher')\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\n        timer_period = 0.5  # seconds\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n        self.i = 0\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = 'Hello ROS 2: %d' % self.i\n        self.publisher_.publish(msg)\n        self.get_logger().info('Publishing: \"%s\"' % msg.data)\n        self.i += 1\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n\n    minimal_publisher = MinimalPublisher()\n\n    rclpy.spin(minimal_publisher)\n\n    # Destroy the node explicitly\n    # (optional - otherwise it will be done automatically\n    # when the garbage collector destroys the node object)\n    minimal_publisher.destroy_node()\n    rclpy.shutdown()\n\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsx)(n.h3,{id:"subscribers-listener",children:"Subscribers (Listener)"}),"\n",(0,r.jsx)(n.p,{children:"Now, a subscriber node to receive these messages."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"File"}),": ",(0,r.jsx)(n.code,{children:"~/ros2_ws/src/my_robot_pkg/my_robot_pkg/subscriber_member_function.py"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\n\nfrom std_msgs.msg import String\n\n\nclass MinimalSubscriber(Node):\n\n    def __init__(self):\n        super().__init__('minimal_subscriber')\n        self.subscription = self.create_subscription(\n            String,\n            'topic',\n            self.listener_callback,\n            10)\n        self.subscription  # prevent unused variable warning\n\n    def listener_callback(self, msg):\n        self.get_logger().info('I heard: \"%s\"' % msg.data)\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n\n    minimal_subscriber = MinimalSubscriber()\n\n    rclpy.spin(minimal_subscriber)\n\n    # Destroy the node explicitly\n    # (optional - otherwise it will be done automatically\n    # when the garbage collector destroys the node object)\n    minimal_subscriber.destroy_node()\n    rclpy.shutdown()\n\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsx)(n.p,{children:"To run these:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Build your package"}),": ",(0,r.jsx)(n.code,{children:"cd ~/ros2_ws && colcon build --packages-select my_robot_pkg"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Source your workspace"}),": ",(0,r.jsx)(n.code,{children:"source install/setup.bash"})," (or ",(0,r.jsx)(n.code,{children:"setup.zsh"}),", ",(0,r.jsx)(n.code,{children:"setup.ps1"})," for PowerShell)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Run publisher"}),": ",(0,r.jsx)(n.code,{children:"ros2 run my_robot_pkg talker"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Run subscriber in another terminal"}),": ",(0,r.jsx)(n.code,{children:"ros2 run my_robot_pkg listener"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"You should see the subscriber printing the messages from the publisher."}),"\n",(0,r.jsx)(n.h3,{id:"services-1",children:"Services"}),"\n",(0,r.jsx)(n.p,{children:"Let's implement a simple service that adds two integers."}),"\n",(0,r.jsxs)(n.p,{children:["First, you need to define the service interface. ROS 2 services are defined in ",(0,r.jsx)(n.code,{children:".srv"})," files."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"File"}),": ",(0,r.jsx)(n.code,{children:"~/ros2_ws/src/my_robot_pkg/srv/AddTwoInts.srv"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"int64 a\nint64 b\n---\nint64 sum\n"})}),"\n",(0,r.jsxs)(n.p,{children:["You need to modify ",(0,r.jsx)(n.code,{children:"package.xml"})," and ",(0,r.jsx)(n.code,{children:"CMakeLists.txt"})," to properly build this service message."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"package.xml"})," additions:"]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:"  <depend>rclpy</depend>\n  <depend>std_msgs</depend>\n\n  <buildtool_depend>ament_cmake</buildtool_depend>\n  <build_depend>rosidl_default_generators</build_depend>\n  <exec_depend>rosidl_default_runtime</exec_depend>\n  <member_of_group>rosidl_interface_packages</member_of_group>\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"CMakeLists.txt"})," additions:"]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cmake",children:'find_package(ament_cmake REQUIRED)\nfind_package(rclpy REQUIRED)\nfind_package(std_msgs REQUIRED)\nfind_package(rosidl_default_generators REQUIRED)\n\nrosidl_generate_interfaces(${PROJECT_NAME}\n  "srv/AddTwoInts.srv"\n)\n\nament_python_install_package(${PROJECT_NAME})\n'})}),"\n",(0,r.jsx)(n.p,{children:"Now, the service server and client."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Service Server"}),": ",(0,r.jsx)(n.code,{children:"~/ros2_ws/src/my_robot_pkg/my_robot_pkg/service_member_function.py"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from my_robot_pkg.srv import AddTwoInts\n\nimport rclpy\nfrom rclpy.node import Node\n\n\nclass MinimalService(Node):\n\n    def __init__(self):\n        super().__init__('minimal_service')\n        self.srv = self.create_service(AddTwoInts, 'add_two_ints', self.add_two_ints_callback)\n\n    def add_two_ints_callback(self, request, response):\n        response.sum = request.a + request.b\n        self.get_logger().info('Incoming request\na: %d b: %d' % (request.a, request.b))\n        return response\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n\n    minimal_service = MinimalService()\n\n    rclpy.spin(minimal_service)\n\n    rclpy.shutdown()\n\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Service Client"}),": ",(0,r.jsx)(n.code,{children:"~/ros2_ws/src/my_robot_pkg/my_robot_pkg/client_member_function.py"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import sys\n\nfrom my_robot_pkg.srv import AddTwoInts\nimport rclpy\nfrom rclpy.node import Node\n\n\nclass MinimalClientAsync(Node):\n\n    def __init__(self):\n        super().__init__('minimal_client_async')\n        self.cli = self.create_client(AddTwoInts, 'add_two_ints')\n        while not self.cli.wait_for_service(timeout_sec=1.0):\n            self.get_logger().info('service not available, waiting again...')\n        self.req = AddTwoInts.Request()\n\n    def send_request(self, a, b):\n        self.req.a = a\n        self.req.b = b\n        self.future = self.cli.call_async(self.req)\n        rclpy.spin_until_future_complete(self, self.future)\n        return self.future.result()\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n\n    minimal_client = MinimalClientAsync()\n    response = minimal_client.send_request(int(sys.argv[1]), int(sys.argv[2]))\n    minimal_client.get_logger().info(\n        'Result of add_two_ints: for %d + %d = %d' %\n        (response.a, response.b, response.sum))\n\n    minimal_client.destroy_node()\n    rclpy.shutdown()\n\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsx)(n.p,{children:"To run these:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Build your package again"}),": ",(0,r.jsx)(n.code,{children:"cd ~/ros2_ws && colcon build --packages-select my_robot_pkg"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Source your workspace"}),": ",(0,r.jsx)(n.code,{children:"source install/setup.bash"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Run service server"}),": ",(0,r.jsx)(n.code,{children:"ros2 run my_robot_pkg add_two_ints_server"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Run service client in another terminal"}),": ",(0,r.jsx)(n.code,{children:"ros2 run my_robot_pkg add_two_ints_client 5 7"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"You should see the client receiving the sum from the server."}),"\n",(0,r.jsx)(n.h2,{id:"4-launch-files-and-parameters",children:"4. Launch Files and Parameters"}),"\n",(0,r.jsx)(n.h3,{id:"launch-files",children:"Launch Files"}),"\n",(0,r.jsxs)(n.p,{children:["Launch files are a powerful way to start and configure multiple ROS 2 nodes simultaneously. They replace the functionality of ",(0,r.jsx)(n.code,{children:"ros2 run"})," for multiple nodes and offer greater flexibility in configuration. Launch files are typically written in Python or XML. Python launch files are generally preferred for their flexibility."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example Python Launch File"}),": ",(0,r.jsx)(n.code,{children:"~/ros2_ws/src/my_robot_pkg/launch/my_robot_launch.py"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    return LaunchDescription([\n        Node(\n            package='my_robot_pkg',\n            executable='talker',\n            name='my_publisher',\n            parameters=[{'timer_period': 1.0}] # Example parameter\n        ),\n        Node(\n            package='my_robot_pkg',\n            executable='listener',\n            name='my_subscriber'\n        ),\n    ])\n"})}),"\n",(0,r.jsxs)(n.p,{children:["To use this launch file, you also need to ensure it's installed. Add this to your ",(0,r.jsx)(n.code,{children:"setup.py"}),"'s ",(0,r.jsx)(n.code,{children:"data_files"})," list:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"        ('share/' + package_name + '/launch', ['launch/my_robot_launch.py']),\n"})}),"\n",(0,r.jsxs)(n.p,{children:["And then rebuild your package: ",(0,r.jsx)(n.code,{children:"cd ~/ros2_ws && colcon build --packages-select my_robot_pkg"}),"\nSource again: ",(0,r.jsx)(n.code,{children:"source install/setup.bash"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Running the Launch File"}),": ",(0,r.jsx)(n.code,{children:"ros2 launch my_robot_pkg my_robot_launch.py"})]}),"\n",(0,r.jsxs)(n.p,{children:["This will start both the ",(0,r.jsx)(n.code,{children:"talker"})," and ",(0,r.jsx)(n.code,{children:"listener"})," nodes with the configurations defined in the launch file."]}),"\n",(0,r.jsx)(n.h3,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsx)(n.p,{children:"Parameters are dynamic values that can be configured for a node. They are analogous to global variables for a node, allowing you to change a node's behavior without recompiling the code. Parameters can be set in launch files, from the command line, or programmatically."}),"\n",(0,r.jsxs)(n.p,{children:["In the publisher example above, we could modify ",(0,r.jsx)(n.code,{children:"timer_period"})," as a parameter."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["Modifying ",(0,r.jsx)(n.code,{children:"publisher_member_function.py"})," for parameters:"]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\n\nfrom std_msgs.msg import String\n\n\nclass MinimalPublisher(Node):\n\n    def __init__(self):\n        super().__init__('minimal_publisher')\n        self.declare_parameter('timer_period', 0.5) # Declare parameter with default value\n        timer_period = self.get_parameter('timer_period').get_parameter_value().double_value\n\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n        self.get_logger().info(f'Publisher started with timer_period: {timer_period}')\n        self.i = 0\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = 'Hello ROS 2: %d' % self.i\n        self.publisher_.publish(msg)\n        self.get_logger().info('Publishing: \"%s\"' % msg.data)\n        self.i += 1\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n\n    minimal_publisher = MinimalPublisher()\n\n    rclpy.spin(minimal_publisher)\n\n    minimal_publisher.destroy_node()\n    rclpy.shutdown()\n\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Now, when launching the publisher, you can set ",(0,r.jsx)(n.code,{children:"timer_period"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"From command line"}),": ",(0,r.jsx)(n.code,{children:"ros2 run my_robot_pkg talker --ros-args -p timer_period:=1.0"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"From launch file (as shown in the example above)"}),":","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"        parameters=[{'timer_period': 1.0}]\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"5-exercises-and-quiz",children:"5. Exercises and Quiz"}),"\n",(0,r.jsx)(n.h3,{id:"exercises",children:"Exercises"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Modify the Talker-Listener Example"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Change the message type from ",(0,r.jsx)(n.code,{children:"std_msgs.msg.String"})," to ",(0,r.jsx)(n.code,{children:"std_msgs.msg.Int32"})," and have the publisher send an incrementing integer."]}),"\n",(0,r.jsxs)(n.li,{children:["Update the subscriber to correctly receive and print the ",(0,r.jsx)(n.code,{children:"Int32"})," messages."]}),"\n",(0,r.jsx)(n.li,{children:"Rebuild and run to verify."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Create a Custom Message Type"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Define a custom ROS 2 message (e.g., ",(0,r.jsx)(n.code,{children:"Person.msg"})," with ",(0,r.jsx)(n.code,{children:"string name"})," and ",(0,r.jsx)(n.code,{children:"int32 age"}),")."]}),"\n",(0,r.jsx)(n.li,{children:"Create a new publisher node that publishes instances of this custom message."}),"\n",(0,r.jsx)(n.li,{children:"Create a new subscriber node that subscribes to and prints the custom messages."}),"\n",(0,r.jsxs)(n.li,{children:["Remember to update ",(0,r.jsx)(n.code,{children:"package.xml"})," and ",(0,r.jsx)(n.code,{children:"CMakeLists.txt"})," for your new message type."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Implement a Calculator Service"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Extend the ",(0,r.jsx)(n.code,{children:"AddTwoInts"})," service to include subtraction, multiplication, and division operations."]}),"\n",(0,r.jsxs)(n.li,{children:["Create a new service server that handles these operations based on a request field (e.g., ",(0,r.jsx)(n.code,{children:"string operation"}),", ",(0,r.jsx)(n.code,{children:"int64 num1"}),", ",(0,r.jsx)(n.code,{children:"int64 num2"}),")."]}),"\n",(0,r.jsx)(n.li,{children:"Create a new service client that can call this service for different operations."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Launch File with Multiple Publishers"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Create a launch file that starts two ",(0,r.jsx)(n.code,{children:"talker"})," nodes, each publishing to a ",(0,r.jsx)(n.em,{children:"different"})," topic (e.g., ",(0,r.jsx)(n.code,{children:"/topic_a"})," and ",(0,r.jsx)(n.code,{children:"/topic_b"}),") with different ",(0,r.jsx)(n.code,{children:"timer_period"})," parameters."]}),"\n",(0,r.jsxs)(n.li,{children:["Start two ",(0,r.jsx)(n.code,{children:"listener"})," nodes, each subscribing to one of the new topics."]}),"\n",(0,r.jsx)(n.li,{children:"Verify that both publisher-subscriber pairs are working correctly."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"short-quiz",children:"Short Quiz"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"What is the primary communication mechanism for real-time data streaming in ROS 2?\na) Services\nb) Parameters\nc) Topics\nd) Actions"}),"\n",(0,r.jsx)(n.li,{children:"Which ROS 2 client library is used for Python?\na) rospy\nb) rclcpp\nc) rclpy\nd) ros_python"}),"\n",(0,r.jsx)(n.li,{children:"How do nodes request a response from another node for a specific functionality?\na) By publishing to a topic\nb) By calling a service\nc) By setting a parameter\nd) By using a launch file"}),"\n",(0,r.jsx)(n.li,{children:"What is the main purpose of a ROS 2 launch file?\na) To define custom message types\nb) To compile ROS 2 packages\nc) To start and configure multiple ROS 2 nodes\nd) To visualize robot data"}),"\n",(0,r.jsx)(n.li,{children:"Which of the following is NOT a core architectural concept in ROS 2?\na) Nodes\nb) Topics\nc) Services\nd) GUI tools"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Quiz Answers"}),": 1. c, 2. c, 3. b, 4. c, 5. d"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>o});var i=s(6540);const r={},t=i.createContext(r);function l(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);